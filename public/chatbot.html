<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Razan</title>
    <link rel="icon" type="image/x-icon" href="/logo-design.png" />
    <link
      href="https://cdn.jsdelivr.net/npm/remixicon@4.5.0/fonts/remixicon.css"
      rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.5/dist/gsap.min.js"></script>
    <style>
      * {
        font-family: "Poppins", sans-serif;
      }

      /* Navbar transition styles */
      .navbar {
        transition: left 0.3s ease-in-out;
      }

      .navbar.open {
        left: 0 !important;
      }

      /* Overlay for mobile nav */
      .nav-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: rgba(0, 0, 0, 0.7);
        z-index: 35;
        opacity: 0;
        visibility: hidden;
        transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out;
      }

      .nav-overlay.show {
        opacity: 1;
        visibility: visible;
      }

      /* Ensure proper scrolling */
      .chat-container {
        max-height: 400px;
        overflow-y: auto;
      }

      /* Custom scrollbar */
      .chat-container::-webkit-scrollbar {
        width: 4px;
      }

      .chat-container::-webkit-scrollbar-track {
        background: #f1f5f9;
        border-radius: 2px;
      }

      .chat-container::-webkit-scrollbar-thumb {
        background: #cbd5e1;
        border-radius: 2px;
      }

      .chat-container::-webkit-scrollbar-thumb:hover {
        background: #94a3b8;
      }
    </style>
  </head>
  <body class="bg-white overflow-x-hidden">
    <!-- Mobile nav toggle button -->
    <button
      class="nav-toggle fixed top-4 left-4 z-50 md:hidden"
      aria-label="Toggle navigation"
    >
      <i class="ri-menu-fold-2-line text-xl text-gray-800"></i>
    </button>

    <!-- Navigation overlay for mobile -->
    <div class="nav-overlay md:hidden"></div>

    <!-- Desktop Navigation -->
    <nav
      class="navbar fixed left-[-100%] md:left-0 top-0 z-40 h-screen bg-white border-r border-slate-300 text-gray-800 py-4 flex flex-col items-center justify-between w-[280px] md:w-[120px] shadow-md"
    >
      <!-- Close button for mobile -->
      <button class="nav-close absolute top-4 right-4 md:hidden">
        <i class="ri-close-line text-xl text-gray-800"></i>
      </button>

      <div class="flex flex-col gap-5 items-center text-xs mt-8 md:mt-0">
        <img src="/logo-design.png" alt="logo" class="max-w-[60px] w-full" />
        <span class="flex flex-col items-center leading-4">
          <i
            class="ri-chat-voice-ai-line font-thin text-2xl px-2 py-1 bg-blue-600 text-white rounded-sm cursor-pointer"
          ></i>
          <span class="mt-1 text-blue-600 font-medium">Chat</span>
        </span>
        <span
          onclick="navigateTo('health_news.html')"
          class="flex flex-col items-center font-thin leading-4 text-slate-500 hover:text-gray-800 cursor-pointer transition-colors"
        >
          <i class="ri-news-line text-2xl"></i>
          <span class="mt-1">Discover</span>
        </span>
        <span
          class="flex flex-col items-center font-thin leading-4 text-slate-500 hover:text-gray-800 cursor-pointer transition-colors"
          onclick="navigateTo('notebook.html')"
        >
          <i class="ri-file-list-3-line text-2xl"></i>
          <span class="mt-1">Notebook</span>
        </span>
      </div>
      <span
        class="flex flex-col items-center font-thin text-xs leading-4 text-slate-500 hover:text-gray-800 cursor-pointer transition-colors"
      >
        <i class="ri-account-pin-circle-line text-2xl"></i>
        <span class="mt-1">Account</span>
      </span>
    </nav>

    <!-- Main Content -->
    <main
      class="main-content md:ml-[120px] min-h-screen px-4 py-8 flex flex-col"
    >
      <div
        class="flex flex-col items-center justify-start w-full max-w-2xl mx-auto gap-6 md:gap-8 flex-grow"
      >
        <!-- Logo and Greeting -->
        <div
          class="flex flex-col items-center justify-center text-center px-4 mt-12 md:mt-8"
        >
          <!-- Mobile logo (only show on mobile since desktop has it in nav) -->
          <img
            src="/logo-design.png"
            alt="logo"
            class="w-16 h-16 mb-4 md:hidden"
          />
          <h1 class="text-4xl md:text-6xl text-gray-800 font-semibold mb-2">
            razanAI
          </h1>
          <p class="text-[#393E46] text-base md:text-lg">
            Hi there, Gabriel, How may I help you today?
          </p>
        </div>

        <!-- Chat Messages Container -->
        <div
          id="chatBox"
          class="chat-container w-full flex flex-col gap-3 px-4 hidden"
        ></div>

        <!-- PDF Download Card -->
        <div
          id="downloadCard"
          class="w-full bg-blue-50 border border-blue-200 p-4 rounded-lg flex justify-between items-center gap-4 hidden shadow-sm"
        >
          <span class="text-gray-800"
            >Diagnosis complete! Download your PDF report:</span
          >
          <button
            id="downloadPdfBtn"
            class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg transition-colors"
          >
            Download PDF
          </button>
        </div>

        <!-- Chat Input Box -->
        <div class="w-full px-4 mt-auto">
          <div
            class="border border-slate-300 p-3 md:p-4 rounded-lg flex flex-col gap-3 md:gap-4 bg-white shadow-sm"
          >
            <!-- Input Row -->
            <div class="flex items-center gap-3 w-full">
              <input
                id="chatInput"
                class="flex-1 outline-none bg-transparent text-sm md:text-base placeholder-[#393E46] text-gray-800"
                type="text"
                placeholder="Say anything to Razan"
              />
              <div class="flex items-center gap-2 flex-shrink-0">
                <i
                  id="sendBtn"
                  class="ri-send-plane-line text-lg md:text-xl text-blue-600 cursor-pointer hover:text-blue-700 transition-colors"
                ></i>
              </div>
            </div>

            <!-- Suggestion Pills -->
            <div class="flex gap-2 md:gap-3">
              <div
                class="w-[49%] px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-sm text-xs md:text-sm text-gray-800 transition-colors whitespace-nowrap cursor-pointer suggestion-pill border border-slate-300"
                data-text="Track My Medications"
              >
                Track My Medications
              </div>
              <div
                class="w-[49%] px-3 py-2 bg-slate-100 hover:bg-slate-200 rounded-sm text-xs md:text-sm text-gray-800 transition-colors whitespace-nowrap cursor-pointer suggestion-pill border border-slate-300"
                data-text="Note down Symptoms"
              >
                I have a headache
              </div>
            </div>
          </div>
        </div>

        <!-- Additional mobile-friendly content space -->
        <div class="w-full px-4 md:hidden pb-4">
          <div class="text-center text-xs text-[#393E46] space-y-1">
            <p>Type your message above</p>
          </div>
        </div>
      </div>
    </main>

    <script src="./src/chatbot.js" type="module"></script>
    <script>
      function navigateTo(page) {
        document.location.href = `/${page}`;
      }
    </script>
  </body>
</html>
